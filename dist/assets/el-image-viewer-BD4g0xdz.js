import{F as vt,d as fe,G as pt,q as ve,o as D,H as _t,p as at,m as ze,_ as ge,h as Fe,l as re,w as Oe,I as rt,k as st,J as ne,E as Q,K as mt}from"./base-iFpej8ky.js";import{g as Ae,i as Ie,c as x,u as o,r as k,d as y,b as g,S as _,e as v,m as ie,o as Ne,a as K,w as se,R as pe,P as ot,p as gt,q as _e,Z as wt,$ as Be,a0 as ht,x as Et,t as O,l as C,D as yt,n as $e,f as S,s as H,a1 as bt,F as me,U as xt,I as it,Y as Tt,V as It,h as Lt,E as Ct,a2 as kt,z as St,v as He,a3 as De,a4 as Ke}from"./index-ChCffZU7.js";var zt=/\s/;function At(e){for(var t=e.length;t--&&zt.test(e.charAt(t)););return t}var Ft=/^\s+/;function Ot(e){return e&&e.slice(0,At(e)+1).replace(Ft,"")}var Ue=NaN,Nt=/^[-+]0x[0-9a-f]+$/i,Rt=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Vt=parseInt;function je(e){if(typeof e=="number")return e;if(vt(e))return Ue;if(fe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ot(e);var n=Rt.test(e);return n||Pt.test(e)?Vt(e.slice(2),n?2:8):Nt.test(e)?Ue:+e}var Le=function(){return pt.Date.now()},Mt="Expected a function",Bt=Math.max,$t=Math.min;function Ht(e,t,n){var a,s,d,m,w,z,f=0,A=!1,b=!1,N=!0;if(typeof e!="function")throw new TypeError(Mt);t=je(t)||0,fe(n)&&(A=!!n.leading,b="maxWait"in n,d=b?Bt(je(n.maxWait)||0,t):d,N="trailing"in n?!!n.trailing:N);function F(p){var I=a,R=s;return a=s=void 0,f=p,m=e.apply(R,I),m}function r(p){return f=p,w=setTimeout(c,t),A?F(p):m}function u(p){var I=p-z,R=p-f,B=t-I;return b?$t(B,d-R):B}function h(p){var I=p-z,R=p-f;return z===void 0||I>=t||I<0||b&&R>=d}function c(){var p=Le();if(h(p))return T(p);w=setTimeout(c,u(p))}function T(p){return w=void 0,N&&a?F(p):(a=s=void 0,m)}function U(){w!==void 0&&clearTimeout(w),f=0,a=z=s=w=void 0}function W(){return w===void 0?m:T(Le())}function V(){var p=Le(),I=h(p);if(a=arguments,s=this,z=p,I){if(w===void 0)return r(z);if(b)return clearTimeout(w),w=setTimeout(c,t),F(z)}return w===void 0&&(w=setTimeout(c,t)),m}return V.cancel=U,V.flush=W,V}function Dt(e){return e==null}var Kt="Expected a function";function Ce(e,t,n){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(Kt);return fe(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),Ht(e,t,{leading:a,maxWait:t,trailing:s})}const Xe={current:0},Ye=k(0),Ut=2e3,We=Symbol("elZIndexContextKey"),jt=Symbol("zIndexContextKey"),Xt=e=>{const t=Ae()?Ie(We,Xe):Xe,n=Ae()?Ie(jt,void 0):void 0,a=x(()=>{const m=o(n);return ve(m)?m:Ut}),s=x(()=>a.value+Ye.value),d=()=>(t.current++,Ye.value=t.current,s.value);return!D&&Ie(We),{initialZIndex:a,currentZIndex:s,nextZIndex:d}},Yt=e=>Object.keys(e),Wt=(e,t)=>{if(!D)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],a=_t(e,n);return["scroll","auto","overlay"].some(s=>a.includes(s))},Zt=(e,t)=>{if(!D)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Wt(n,t))return n;n=n.parentNode}return n};/*! Element Plus Icons Vue v2.3.1 */var qt=y({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),aa=qt,Jt=y({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Gt=Jt,Qt=y({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),en=Qt,tn=y({name:"Briefcase",__name:"briefcase",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320zM128 576h768v320H128zm256-256h256.064V192H384z"})]))}}),ra=tn,nn=y({name:"Close",__name:"close",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),an=nn,rn=y({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),sn=rn,on=y({name:"HelpFilled",__name:"help-filled",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480m0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"})]))}}),sa=on,ln=y({name:"HomeFilled",__name:"home-filled",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"})]))}}),oa=ln,un=y({name:"Menu",__name:"menu",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),ia=un,cn=y({name:"More",__name:"more",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),la=cn,dn=y({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),fn=dn,vn=y({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),pn=vn,_n=y({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),mn=_n,gn=y({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),wn=gn,hn=y({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(v(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[_("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),En=hn;const lt=e=>e,yn=["class","style"],bn=/^on[A-Z]/,xn=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,a=x(()=>((n==null?void 0:n.value)||[]).concat(yn)),s=Ae();return s?x(()=>{var d;return at(Object.entries((d=s.proxy)==null?void 0:d.$attrs).filter(([m])=>!a.value.includes(m)&&!(t&&bn.test(m))))}):x(()=>({}))},Tn=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ua=function(e,t,...n){let a;t.includes("mouse")||t.includes("click")?a="MouseEvents":t.includes("key")?a="KeyboardEvent":a="HTMLEvents";const s=document.createEvent(a);return s.initEvent(t,...n),e.dispatchEvent(s),e},ke="focus-trap.focus-after-trapped",Se="focus-trap.focus-after-released",In="focus-trap.focusout-prevented",Ze={cancelable:!0,bubbles:!1},Ln={cancelable:!0,bubbles:!1},qe="focusAfterTrapped",Je="focusAfterReleased",Cn=Symbol("elFocusTrap"),Re=k(),we=k(0),Pe=k(0);let ue=0;const ut=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0||a===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},Ge=(e,t)=>{for(const n of e)if(!kn(n,t))return n},kn=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Sn=e=>{const t=ut(e),n=Ge(t,e),a=Ge(t.reverse(),e);return[n,a]},zn=e=>e instanceof HTMLInputElement&&"select"in e,ee=(e,t)=>{if(e&&e.focus){const n=document.activeElement;let a=!1;ze(e)&&!Tn(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),a=!0),e.focus({preventScroll:!0}),Pe.value=window.performance.now(),e!==n&&zn(e)&&t&&e.select(),ze(e)&&a&&e.removeAttribute("tabindex")}};function Qe(e,t){const n=[...e],a=e.indexOf(t);return a!==-1&&n.splice(a,1),n}const An=()=>{let e=[];return{push:a=>{const s=e[0];s&&a!==s&&s.pause(),e=Qe(e,a),e.unshift(a)},remove:a=>{var s,d;e=Qe(e,a),(d=(s=e[0])==null?void 0:s.resume)==null||d.call(s)}}},Fn=(e,t=!1)=>{const n=document.activeElement;for(const a of e)if(ee(a,t),document.activeElement!==n)return},et=An(),On=()=>we.value>Pe.value,ce=()=>{Re.value="pointer",we.value=window.performance.now()},tt=()=>{Re.value="keyboard",we.value=window.performance.now()},Nn=()=>(ie(()=>{ue===0&&(document.addEventListener("mousedown",ce),document.addEventListener("touchstart",ce),document.addEventListener("keydown",tt)),ue++}),Ne(()=>{ue--,ue<=0&&(document.removeEventListener("mousedown",ce),document.removeEventListener("touchstart",ce),document.removeEventListener("keydown",tt))}),{focusReason:Re,lastUserFocusTimestamp:we,lastAutomatedFocusTimestamp:Pe}),de=e=>new CustomEvent(In,{...Ln,detail:e}),te={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",numpadEnter:"NumpadEnter"};let ae=[];const nt=e=>{e.code===te.esc&&ae.forEach(t=>t(e))},Rn=e=>{ie(()=>{ae.length===0&&document.addEventListener("keydown",nt),D&&ae.push(e)}),Ne(()=>{ae=ae.filter(t=>t!==e),ae.length===0&&D&&document.removeEventListener("keydown",nt)})},Pn=y({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[qe,Je,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=k();let a,s;const{focusReason:d}=Nn();Rn(r=>{e.trapped&&!m.paused&&t("release-requested",r)});const m={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},w=r=>{if(!e.loop&&!e.trapped||m.paused)return;const{code:u,altKey:h,ctrlKey:c,metaKey:T,currentTarget:U,shiftKey:W}=r,{loop:V}=e,p=u===te.tab&&!h&&!c&&!T,I=document.activeElement;if(p&&I){const R=U,[B,Z]=Sn(R);if(B&&Z){if(!W&&I===Z){const P=de({focusReason:d.value});t("focusout-prevented",P),P.defaultPrevented||(r.preventDefault(),V&&ee(B,!0))}else if(W&&[B,R].includes(I)){const P=de({focusReason:d.value});t("focusout-prevented",P),P.defaultPrevented||(r.preventDefault(),V&&ee(Z,!0))}}else if(I===R){const P=de({focusReason:d.value});t("focusout-prevented",P),P.defaultPrevented||r.preventDefault()}}};gt(Cn,{focusTrapRef:n,onKeydown:w}),se(()=>e.focusTrapEl,r=>{r&&(n.value=r)},{immediate:!0}),se([n],([r],[u])=>{r&&(r.addEventListener("keydown",w),r.addEventListener("focusin",A),r.addEventListener("focusout",b)),u&&(u.removeEventListener("keydown",w),u.removeEventListener("focusin",A),u.removeEventListener("focusout",b))});const z=r=>{t(qe,r)},f=r=>t(Je,r),A=r=>{const u=o(n);if(!u)return;const h=r.target,c=r.relatedTarget,T=h&&u.contains(h);e.trapped||c&&u.contains(c)||(a=c),T&&t("focusin",r),!m.paused&&e.trapped&&(T?s=h:ee(s,!0))},b=r=>{const u=o(n);if(!(m.paused||!u))if(e.trapped){const h=r.relatedTarget;!Dt(h)&&!u.contains(h)&&setTimeout(()=>{if(!m.paused&&e.trapped){const c=de({focusReason:d.value});t("focusout-prevented",c),c.defaultPrevented||ee(s,!0)}},0)}else{const h=r.target;h&&u.contains(h)||t("focusout",r)}};async function N(){await pe();const r=o(n);if(r){et.push(m);const u=r.contains(document.activeElement)?a:document.activeElement;if(a=u,!r.contains(u)){const c=new Event(ke,Ze);r.addEventListener(ke,z),r.dispatchEvent(c),c.defaultPrevented||pe(()=>{let T=e.focusStartEl;ot(T)||(ee(T),document.activeElement!==T&&(T="first")),T==="first"&&Fn(ut(r),!0),(document.activeElement===u||T==="container")&&ee(r)})}}}function F(){const r=o(n);if(r){r.removeEventListener(ke,z);const u=new CustomEvent(Se,{...Ze,detail:{focusReason:d.value}});r.addEventListener(Se,f),r.dispatchEvent(u),!u.defaultPrevented&&(d.value=="keyboard"||!On()||r.contains(document.activeElement))&&ee(a??document.body),r.removeEventListener(Se,f),et.remove(m)}}return ie(()=>{e.trapped&&N(),se(()=>e.trapped,r=>{r?N():F()})}),Ne(()=>{e.trapped&&F(),n.value&&(n.value.removeEventListener("keydown",w),n.value.removeEventListener("focusin",A),n.value.removeEventListener("focusout",b),n.value=void 0)}),{onKeydown:w}}});function Vn(e,t,n,a,s,d){return K(e.$slots,"default",{handleKeydown:e.onKeydown})}var Mn=ge(Pn,[["render",Vn],["__file","focus-trap.vue"]]);const Bn=Fe({to:{type:re([String,Object]),required:!0},disabled:Boolean}),$n=y({__name:"teleport",props:Bn,setup(e){return(t,n)=>t.disabled?K(t.$slots,"default",{key:0}):(v(),_e(wt,{key:1,to:t.to},[K(t.$slots,"default")],8,["to"]))}});var Hn=ge($n,[["__file","teleport.vue"]]);const Dn=Oe(Hn),Kn=(e,t)=>{if(!D||!e||!t)return!1;const n=e.getBoundingClientRect();let a;return t instanceof Element?a=t.getBoundingClientRect():a={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<a.bottom&&n.bottom>a.top&&n.right>a.left&&n.left<a.right},Un=Fe({urlList:{type:re(Array),default:()=>lt([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:re(String)}}),jn={close:()=>!0,switch:e=>ve(e),rotate:e=>ve(e)},Xn=y({name:"ElImageViewer"}),Yn=y({...Xn,props:Un,emits:jn,setup(e,{expose:t,emit:n}){var a;const s=e,d={CONTAIN:{name:"contain",icon:Be(sn)},ORIGINAL:{name:"original",icon:Be(mn)}};let m,w="";const{t:z}=rt(),f=st("image-viewer"),{nextZIndex:A}=Xt(),b=k(),N=k([]),F=ht(),r=k(!0),u=k(s.initialIndex),h=Et(d.CONTAIN),c=k({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),T=k((a=s.zIndex)!=null?a:A()),U=x(()=>{const{urlList:i}=s;return i.length<=1}),W=x(()=>u.value===0),V=x(()=>u.value===s.urlList.length-1),p=x(()=>s.urlList[u.value]),I=x(()=>[f.e("btn"),f.e("prev"),f.is("disabled",!s.infinite&&W.value)]),R=x(()=>[f.e("btn"),f.e("next"),f.is("disabled",!s.infinite&&V.value)]),B=x(()=>{const{scale:i,deg:L,offsetX:E,offsetY:$,enableTransition:X}=c.value;let Y=E/i,G=$/i;const oe=L*Math.PI/180,Ve=Math.cos(oe),Me=Math.sin(oe);Y=Y*Ve+G*Me,G=G*Ve-E/i*Me;const Te={transform:`scale(${i}) rotate(${L}deg) translate(${Y}px, ${G}px)`,transition:X?"transform .3s":""};return h.value.name===d.CONTAIN.name&&(Te.maxWidth=Te.maxHeight="100%"),Te}),Z=x(()=>`${u.value+1} / ${s.urlList.length}`);function q(){le(),m==null||m(),document.body.style.overflow=w,n("close")}function P(){const i=Ce(E=>{switch(E.code){case te.esc:s.closeOnPressEscape&&q();break;case te.space:j();break;case te.left:be();break;case te.up:J("zoomIn");break;case te.right:xe();break;case te.down:J("zoomOut");break}}),L=Ce(E=>{const $=E.deltaY||E.deltaX;J($<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});F.run(()=>{ne(document,"keydown",i),ne(document,"wheel",L)})}function le(){F.stop()}function he(){r.value=!1}function Ee(i){r.value=!1,i.target.alt=z("el.image.error")}function l(i){if(r.value||i.button!==0||!b.value)return;c.value.enableTransition=!1;const{offsetX:L,offsetY:E}=c.value,$=i.pageX,X=i.pageY,Y=Ce(oe=>{c.value={...c.value,offsetX:L+oe.pageX-$,offsetY:E+oe.pageY-X}}),G=ne(document,"mousemove",Y);ne(document,"mouseup",()=>{G()}),i.preventDefault()}function M(){c.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function j(){if(r.value)return;const i=Yt(d),L=Object.values(d),E=h.value.name,X=(L.findIndex(Y=>Y.name===E)+1)%i.length;h.value=d[i[X]],M()}function ye(i){const L=s.urlList.length;u.value=(i+L)%L}function be(){W.value&&!s.infinite||ye(u.value-1)}function xe(){V.value&&!s.infinite||ye(u.value+1)}function J(i,L={}){if(r.value)return;const{minScale:E,maxScale:$}=s,{zoomRate:X,rotateDeg:Y,enableTransition:G}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...L};switch(i){case"zoomOut":c.value.scale>E&&(c.value.scale=Number.parseFloat((c.value.scale/X).toFixed(3)));break;case"zoomIn":c.value.scale<$&&(c.value.scale=Number.parseFloat((c.value.scale*X).toFixed(3)));break;case"clockwise":c.value.deg+=Y,n("rotate",c.value.deg);break;case"anticlockwise":c.value.deg-=Y,n("rotate",c.value.deg);break}c.value.enableTransition=G}function ct(i){var L;((L=i.detail)==null?void 0:L.focusReason)==="pointer"&&i.preventDefault()}function dt(){s.closeOnPressEscape&&q()}function ft(i){if(i.ctrlKey){if(i.deltaY<0)return i.preventDefault(),!1;if(i.deltaY>0)return i.preventDefault(),!1}}return se(p,()=>{pe(()=>{const i=N.value[0];i!=null&&i.complete||(r.value=!0)})}),se(u,i=>{M(),n("switch",i)}),ie(()=>{P(),m=ne("wheel",ft,{passive:!1}),w=document.body.style.overflow,document.body.style.overflow="hidden"}),t({setActiveItem:ye}),(i,L)=>(v(),_e(o(Dn),{to:"body",disabled:!i.teleported},{default:O(()=>[C(yt,{name:"viewer-fade",appear:""},{default:O(()=>[_("div",{ref_key:"wrapper",ref:b,tabindex:-1,class:S(o(f).e("wrapper")),style:$e({zIndex:T.value})},[C(o(Mn),{loop:"",trapped:"","focus-trap-el":b.value,"focus-start-el":"container",onFocusoutPrevented:ct,onReleaseRequested:dt},{default:O(()=>[_("div",{class:S(o(f).e("mask")),onClick:bt(E=>i.hideOnClickModal&&q(),["self"])},null,10,["onClick"]),H(" CLOSE "),_("span",{class:S([o(f).e("btn"),o(f).e("close")]),onClick:q},[C(o(Q),null,{default:O(()=>[C(o(an))]),_:1})],2),H(" ARROW "),o(U)?H("v-if",!0):(v(),g(me,{key:0},[_("span",{class:S(o(I)),onClick:be},[C(o(Q),null,{default:O(()=>[C(o(Gt))]),_:1})],2),_("span",{class:S(o(R)),onClick:xe},[C(o(Q),null,{default:O(()=>[C(o(en))]),_:1})],2)],64)),i.showProgress?(v(),g("div",{key:1,class:S([o(f).e("btn"),o(f).e("progress")])},[K(i.$slots,"progress",{activeIndex:u.value,total:i.urlList.length},()=>[xt(it(o(Z)),1)])],2)):H("v-if",!0),H(" ACTIONS "),_("div",{class:S([o(f).e("btn"),o(f).e("actions")])},[_("div",{class:S(o(f).e("actions__inner"))},[K(i.$slots,"toolbar",{actions:J,prev:be,next:xe,reset:j,activeIndex:u.value},()=>[C(o(Q),{onClick:E=>J("zoomOut")},{default:O(()=>[C(o(En))]),_:1},8,["onClick"]),C(o(Q),{onClick:E=>J("zoomIn")},{default:O(()=>[C(o(wn))]),_:1},8,["onClick"]),_("i",{class:S(o(f).e("actions__divider"))},null,2),C(o(Q),{onClick:j},{default:O(()=>[(v(),_e(Tt(o(h).icon)))]),_:1}),_("i",{class:S(o(f).e("actions__divider"))},null,2),C(o(Q),{onClick:E=>J("anticlockwise")},{default:O(()=>[C(o(fn))]),_:1},8,["onClick"]),C(o(Q),{onClick:E=>J("clockwise")},{default:O(()=>[C(o(pn))]),_:1},8,["onClick"])])],2)],2),H(" CANVAS "),_("div",{class:S(o(f).e("canvas"))},[(v(!0),g(me,null,It(i.urlList,(E,$)=>Lt((v(),g("img",{ref_for:!0,ref:X=>N.value[$]=X,key:E,src:E,style:$e(o(B)),class:S(o(f).e("img")),crossorigin:i.crossorigin,onLoad:he,onError:Ee,onMousedown:l},null,46,["src","crossorigin"])),[[Ct,$===u.value]])),128))],2),K(i.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var Wn=ge(Yn,[["__file","image-viewer.vue"]]);const Zn=Oe(Wn),qn=Fe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:re([String,Object])},previewSrcList:{type:re(Array),default:()=>lt([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:re(String)}}),Jn={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>ve(e),close:()=>!0,show:()=>!0},Gn=y({name:"ElImage",inheritAttrs:!1}),Qn=y({...Gn,props:qn,emits:Jn,setup(e,{expose:t,emit:n}){const a=e,{t:s}=rt(),d=st("image"),m=kt(),w=x(()=>at(Object.entries(m).filter(([l])=>/^(data-|on[A-Z])/i.test(l)||["id","style"].includes(l)))),z=xn({excludeListeners:!0,excludeKeys:x(()=>Object.keys(w.value))}),f=k(),A=k(!1),b=k(!0),N=k(!1),F=k(),r=k(),u=D&&"loading"in HTMLImageElement.prototype;let h;const c=x(()=>[d.e("inner"),U.value&&d.e("preview"),b.value&&d.is("loading")]),T=x(()=>{const{fit:l}=a;return D&&l?{objectFit:l}:{}}),U=x(()=>{const{previewSrcList:l}=a;return St(l)&&l.length>0}),W=x(()=>{const{previewSrcList:l,initialIndex:M}=a;let j=M;return M>l.length-1&&(j=0),j}),V=x(()=>a.loading==="eager"?!1:!u&&a.loading==="lazy"||a.lazy),p=()=>{D&&(b.value=!0,A.value=!1,f.value=a.src)};function I(l){b.value=!1,A.value=!1,n("load",l)}function R(l){b.value=!1,A.value=!0,n("error",l)}function B(){Kn(F.value,r.value)&&(p(),P())}const Z=mt(B,200,!0);async function q(){var l;if(!D)return;await pe();const{scrollContainer:M}=a;ze(M)?r.value=M:ot(M)&&M!==""?r.value=(l=document.querySelector(M))!=null?l:void 0:F.value&&(r.value=Zt(F.value)),r.value&&(h=ne(r,"scroll",Z),setTimeout(()=>B(),100))}function P(){!D||!r.value||!Z||(h==null||h(),r.value=void 0)}function le(){U.value&&(N.value=!0,n("show"))}function he(){N.value=!1,n("close")}function Ee(l){n("switch",l)}return se(()=>a.src,()=>{V.value?(b.value=!0,A.value=!1,P(),q()):p()}),ie(()=>{V.value?q():p()}),t({showPreview:le}),(l,M)=>(v(),g("div",He({ref_key:"container",ref:F},o(w),{class:[o(d).b(),l.$attrs.class]}),[A.value?K(l.$slots,"error",{key:0},()=>[_("div",{class:S(o(d).e("error"))},it(o(s)("el.image.error")),3)]):(v(),g(me,{key:1},[f.value!==void 0?(v(),g("img",He({key:0},o(z),{src:f.value,loading:l.loading,style:o(T),class:o(c),crossorigin:l.crossorigin,onClick:le,onLoad:I,onError:R}),null,16,["src","loading","crossorigin"])):H("v-if",!0),b.value?(v(),g("div",{key:1,class:S(o(d).e("wrapper"))},[K(l.$slots,"placeholder",{},()=>[_("div",{class:S(o(d).e("placeholder"))},null,2)])],2)):H("v-if",!0)],64)),o(U)?(v(),g(me,{key:2},[N.value?(v(),_e(o(Zn),{key:0,"z-index":l.zIndex,"initial-index":o(W),infinite:l.infinite,"zoom-rate":l.zoomRate,"min-scale":l.minScale,"max-scale":l.maxScale,"show-progress":l.showProgress,"url-list":l.previewSrcList,crossorigin:l.crossorigin,"hide-on-click-modal":l.hideOnClickModal,teleported:l.previewTeleported,"close-on-press-escape":l.closeOnPressEscape,onClose:he,onSwitch:Ee},{progress:O(j=>[K(l.$slots,"progress",De(Ke(j)))]),toolbar:O(j=>[K(l.$slots,"toolbar",De(Ke(j)))]),default:O(()=>[l.$slots.viewer?(v(),g("div",{key:0},[K(l.$slots,"viewer")])):H("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):H("v-if",!0)],64)):H("v-if",!0)],16))}});var ea=ge(Qn,[["__file","image.vue"]]);const ca=Oe(ea);export{Mn as E,Dt as a,te as b,Dn as c,ua as d,aa as e,en as f,lt as g,oa as h,Tn as i,ia as j,sa as k,ra as l,la as m,ca as n,ee as t,Xt as u};
